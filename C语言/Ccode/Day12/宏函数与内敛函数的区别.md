# 内联函数与宏函数的的区别

C语言中的内联函数和宏函数都是用于优化代码性能的工具，但它们之间存在一些重要的区别。

1. 编译时处理
    - 宏函数：宏函数在预处理阶段由预处理器处理。预处理器会直接将宏函数替换为它的定义，然后再进行编译。因此，宏函数没有类型检查，也没有作用域，只是简单的文本替换。
    - 内联函数：内联函数在编译时被处理。编译器会在调用内联函数的地方直接插入或替换内联函数的代码，从而避免函数调用的开销。内联函数有类型检查，也有作用域。

2. 参数处理
    - 宏函数：由于宏函数只是文本替换，因此参数在替换过程中可能会引发一些意料之外的问题，比如运算符优先级问题。为了避免这些问题，宏函数的参数通常需要用括号包围。
    - 内联函数：内联函数在参数处理上就像普通的函数一样，有明确的参数类型和参数传递方式，因此不需要担心运算符优先级等问题。

3. 调试和可读性
    - 宏函数：由于宏函数是文本替换，因此在调试时可能会比较困难，因为预处理器已经将宏函数替换为了它的定义，所以无法在调试器中看到宏函数的调用。此外，由于宏函数没有明确的作用域和类型检查，因此可能会降低代码的可读性和可维护性。

    - 内联函数：内联函数像普通的函数一样，可以在调试器中看到其调用和执行过程，因此更易于调试。此外，内联函数有明确的作用域和类型检查，因此可以提高代码的可读性和可维护性。

4. 适用场景

    - 宏函数：通常用于执行简单的、不需要复杂逻辑或类型检查的操作，或者用于定义一些常量或简单的计算式。宏可以循环 switch
    - 内联函数：适用于那些函数体较小，但又频繁调用的函数。通过内联可以减少函数调用的开销，提高程序的执行效率。内敛不可以循环 switch